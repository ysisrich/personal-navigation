(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f514254"],{4323:function(t,e,s){},"57d1":function(t,e,s){"use strict";s("4323")},a0c0:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"ant-note"},[s("div",{staticClass:"ant-note-title"},[t._v("💖 笔记本")]),s("div",{staticStyle:{margin:"10px auto",color:"rgba(0,0,0,.78)"}},[t._v("随时记笔记，养成良好习惯，将所遇到的问题进行记录，方便复习整理，有利于知识的巩固!!!")]),s("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.showNoteForm}},[t._v(" 写笔记 ")])],1),0==t.noteList.length&&t.searchData?s("a-table",{staticStyle:{margin:"0 10px"},attrs:{"data-source":[]}}):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showData,expression:"!showData"}],staticClass:"loading"},[s("a-spin",{attrs:{size:"large",spinning:!t.showData}})],1),s("a-row",{directives:[{name:"show",rawName:"v-show",value:t.showData,expression:"showData"}]},t._l(t.noteList,(function(e,a){return s("a-col",{key:a,attrs:{xs:24,sm:24,md:24,lg:12,xl:8}},[s("Card",{attrs:{noteItem:e},on:{deleteNote:function(s){return t.deleteNote(e.id)},editNote:function(s){return t.editNote(e)}}})],1)})),1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showData&&t.noteList.length>0,expression:"showData && noteList.length > 0"}],staticStyle:{"text-align":"right","margin-right":"10px","padding-bottom":"10px"}},[s("a-pagination",{attrs:{"default-current":1,defaultPageSize:9,total:t.total,"show-total":function(t){return"总共 "+t+" 个"}},on:{change:t.pagesChange}})],1),s("a-modal",{attrs:{title:"写解答",visible:t.visible1,closable:!1,width:t.width1,footer:null}},[s("Editor",{attrs:{name:t.form.name,answer:t.form.answer},on:{save:t.save}})],1)],1)},i=[],n=s("2909"),o=(s("d3b7"),s("3ca3"),s("ddb0"),s("159b"),s("ac1f"),s("1276"),s("a15b"),s("b0c0"),s("fb6a"),s("d81d"),s("a434"),s("7434")),r=function(){return s.e("chunk-6d5f6e7a").then(s.bind(null,"f898"))},l={data:function(){return{visible:!1,visible1:!1,confirmLoading:!1,width:"40%",width1:"80%",value:"",showData:!1,searchData:!1,fileList:[],defaultTags:[],tags:[],tagList:["PHP","Vue","Html","Css","MySQL","MongoDB","Redis","Nginx","Apache","小程序","H5","APP"],labelCol:{sm:{span:12},md:{span:8,offset:0},lg:{span:5,offset:0}},wrapperCol:{sm:{span:24},md:{span:16,offset:0},lg:{span:19,offset:0}},wrapperCol1:{sm:{span:24,offset:0},md:{span:16,offset:8},lg:{span:19,offset:5}},editId:"",url:this.config.interfaceUrl+"/note/uploadNoteFile",form:{name:"",answer:"",url:"",code_file:"",image:"",other:""},total:0,query:{search:"",page_size:9,page_current:1},noteList:[],rules:{name:[{required:!0,message:"请填写笔记名称或bug",trigger:"change"}],answer:[{required:!0,message:"请填写解决方法",trigger:"change"}]}}},components:{Card:o["a"],Editor:r},mounted:function(){var t=this;this.getNoteList();var e=document.documentElement.clientWidth;this.width=e<1200?"450px":e>=1200&&e<1800?"40%":"510px",window.addEventListener("resize",(function(){var e=document.documentElement.clientWidth;t.width=e<1200?"450px":e>=1200&&e<1800?"40%":"510px"}))},methods:{showNoteForm:function(){this.$router.push("/publish_note?id=0")},getNoteList:function(){var t=this;this.axios.get("/notes",{params:this.query}).then((function(e){1==e.status?(t.noteList=e.data.data,t.noteList.forEach((function(t){t.other=t.other.split(",")})),t.total=e.data.total,t.showData=!0):t.$message.error(e.info)})).catch((function(t){console.log(t)}))},handleOk:function(){var t=this;this.editId?this.axios.put("note/".concat(this.editId),{params:this.form}).then((function(e){console.log(e),1==e.status?(t.$message.success(e.info),t.visible=!1,t.getNoteList()):t.$message.error(e.info)})):this.$refs.ruleForm.validate((function(e){if(!e)return console.log("error submit!!"),!1;var s=[];t.fileList.forEach((function(t){return s.push(t.response.data)})),t.form.code_file=s.join(","),console.log(t.form),t.axios.post("note",{params:t.form}).then((function(e){console.log(e),1==e.status?(t.$message.success(e.info),t.visible=!1,t.getNoteList()):t.$message.error(e.info)}))}))},deleteNote:function(t){var e=this;this.axios.delete("note/".concat(t)).then((function(t){console.log(t),1==t.status?(e.$message.success(t.info),e.getNoteList()):e.$message.error(t.info)}))},editNote:function(t){var e=this;this.visible=!0,this.editId=t.id,this.form=t,this.form.other.forEach((function(t){return e.tags.push(t)}))},editText:function(){this.form.name?this.visible1=!0:this.$message.warn("请先填写问题题目或者bug")},save:function(t){this.visible1=!1,this.form.answer=t},handleChange:function(t){var e=Object(n["a"])(t.fileList);e=e.slice(-2),e=e.map((function(t){return t.response&&(t.url=t.response.url),t})),this.fileList=e},handleSelectTag:function(t){t.length>3?(this.$message.warning("最多只能选择3个标签"),this.tags.splice(this.tags.length-1,1)):t.length<1&&this.$message.warning("至少选择1个标签"),this.form.other=this.tags.join(",")},pagesChange:function(t,e){this.query.page_current=t,this.getNoteList()}}},c=l,h=(s("57d1"),s("0c7c")),u=Object(h["a"])(c,a,i,!1,null,"0c27b881",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4f514254.c60c654b.js.map