(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61428a0f"],{"107c":function(e,t,r){var n=r("d039");e.exports=n((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1276:function(e,t,r){"use strict";var n=r("d784"),a=r("44e7"),i=r("825a"),l=r("1d80"),o=r("4840"),s=r("8aa5"),c=r("50c4"),u=r("14c3"),f=r("9263"),d=r("9f7fd"),p=r("d039"),g=d.UNSUPPORTED_Y,m=[].push,h=Math.min,v=4294967295,x=!p((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));n("split",(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(l(this)),i=void 0===r?v:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!a(e))return t.call(n,e,i);var o,s,c,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=new RegExp(e.source,d+"g");while(o=f.call(g,n)){if(s=g.lastIndex,s>p&&(u.push(n.slice(p,o.index)),o.length>1&&o.index<n.length&&m.apply(u,o.slice(1)),c=o[0].length,p=s,u.length>=i))break;g.lastIndex===o.index&&g.lastIndex++}return p===n.length?!c&&g.test("")||u.push(""):u.push(n.slice(p)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var a=l(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,a,r):n.call(String(a),t,r)},function(e,a){var l=r(n,this,e,a,n!==t);if(l.done)return l.value;var f=i(this),d=String(e),p=o(f,RegExp),m=f.unicode,x=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"g":"y"),b=new p(g?"^(?:"+f.source+")":f,x),w=void 0===a?v:a>>>0;if(0===w)return[];if(0===d.length)return null===u(b,d)?[d]:[];var y=0,E=0,R=[];while(E<d.length){b.lastIndex=g?0:E;var I,$=u(b,g?d.slice(E):d);if(null===$||(I=h(c(b.lastIndex+(g?E:0)),d.length))===y)E=s(d,E,m);else{if(R.push(d.slice(y,E)),R.length===w)return R;for(var _=1;_<=$.length-1;_++)if(R.push($[_]),R.length===w)return R;E=y=I}}return R.push(d.slice(y)),R}]}),!x,g)},"14c3":function(e,t,r){var n=r("c6b6"),a=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"44e7":function(e,t,r){var n=r("861d"),a=r("c6b6"),i=r("b622"),l=i("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==a(e))}},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9263:function(e,t,r){"use strict";var n=r("ad6d"),a=r("9f7fd"),i=r("5692"),l=r("7c73"),o=r("69f3").get,s=r("fce3"),c=r("107c"),u=RegExp.prototype.exec,f=i("native-string-replace",String.prototype.replace),d=u,p=function(){var e=/a/,t=/b*/g;return u.call(e,"a"),u.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),g=a.UNSUPPORTED_Y||a.BROKEN_CARET,m=void 0!==/()??/.exec("")[1],h=p||m||g||s||c;h&&(d=function(e){var t,r,a,i,s,c,h,v=this,x=o(v),b=x.raw;if(b)return b.lastIndex=v.lastIndex,t=d.call(b,e),v.lastIndex=b.lastIndex,t;var w=x.groups,y=g&&v.sticky,E=n.call(v),R=v.source,I=0,$=e;if(y&&(E=E.replace("y",""),-1===E.indexOf("g")&&(E+="g"),$=String(e).slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&"\n"!==e[v.lastIndex-1])&&(R="(?: "+R+")",$=" "+$,I++),r=new RegExp("^(?:"+R+")",E)),m&&(r=new RegExp("^"+R+"$(?!\\s)",E)),p&&(a=v.lastIndex),i=u.call(y?r:v,$),y?i?(i.input=i.input.slice(I),i[0]=i[0].slice(I),i.index=v.lastIndex,v.lastIndex+=i[0].length):v.lastIndex=0:p&&i&&(v.lastIndex=v.global?i.index+i[0].length:a),m&&i&&i.length>1&&f.call(i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&w)for(i.groups=c=l(null),s=0;s<w.length;s++)h=w[s],c[h[0]]=i[h[1]];return i}),e.exports=d},"9f7fd":function(e,t,r){var n=r("d039"),a=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,r){"use strict";var n=r("23e7"),a=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,r){"use strict";var n=r("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b4a3:function(e,t,r){},d1eb:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ant-add-project"},[r("div",{style:{width:e.width,margin:"0 20px",padding:"30px 20px"}},[r("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol,labelAlign:"left"}},[r("a-form-model-item",{ref:"name",attrs:{label:"名称",prop:"name"}},[r("a-input",{attrs:{placeholder:"网站、项目等资源名，最多 25 字"},on:{blur:function(){e.$refs.name.onFieldBlur()}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("a-form-model-item",{ref:"detail",attrs:{label:"描述",prop:"detail"}},[r("a-input",{attrs:{placeholder:"用一句话简单介绍资源，最多 80 字"},on:{blur:function(){e.$refs.detail.onFieldBlur()}},model:{value:e.form.detail,callback:function(t){e.$set(e.form,"detail",t)},expression:"form.detail"}})],1),r("a-form-model-item",{ref:"url",attrs:{label:"链接",prop:"url"}},[r("a-input",{attrs:{placeholder:"便于找到资源的网址，http(s) 开头"},on:{blur:function(){e.$refs.url.onFieldBlur()}},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),r("a-form-model-item",{ref:"git_url",attrs:{label:"仓库链接",prop:"git_url"}},[r("a-input",{attrs:{placeholder:"便于找到资源的远程仓库地址"},on:{blur:function(){e.$refs.git_url.onFieldBlur()}},model:{value:e.form.git_url,callback:function(t){e.$set(e.form,"git_url",t)},expression:"form.git_url"}})],1),r("a-form-model-item",{attrs:{label:"分类",prop:"category"}},[r("a-radio-group",{attrs:{defaultValue:e.form.category},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},[r("a-radio",{attrs:{value:1}},[e._v(" 个人 ")]),r("a-radio",{attrs:{value:2}},[e._v(" 团队 ")]),r("a-radio",{attrs:{value:3}},[e._v(" 其他 ")])],1)],1),r("a-form-model-item",{ref:"tag",attrs:{label:"标签",prop:"tag"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{mode:"tags",allowClear:"",placeholder:"可选至多 5 个标签，支持搜索",defaultValue:e.defaultTags},on:{change:e.handleSelectTag},model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}},e._l(e.tagList,(function(t){return r("a-select-option",{key:t.toString()},[e._v(" "+e._s(t)+" ")])})),1)],1),r("a-form-model-item",{ref:"image",attrs:{label:"图片",prop:"image"}},[r("div",{staticClass:"clearfix"},[r("a-upload",{attrs:{action:e.url,name:"file","list-type":"picture-card","file-list":e.fileList,multiple:!0},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<5?r("div",[r("a-icon",{attrs:{type:"plus"}}),r("div",{staticClass:"ant-upload-text"},[e._v(" Upload ")])],1):e._e()]),r("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[r("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)]),r("a-form-model-item",{attrs:{label:"详细"}},[r("a-input",{staticStyle:{height:"100px",resize:"none"},attrs:{placeholder:"详细介绍该资源的作用、用法等",type:"textarea"},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",t)},expression:"form.introduce"}})],1),r("a-form-model-item",{attrs:{"wrapper-col":e.wrapperCol1}},[r("a-button",{staticStyle:{width:"30%","min-width":"64px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(" 提交 ")]),r("a-button",{staticStyle:{"margin-left":"30px"},on:{click:e.resetForm}},[e._v(" 取消 ")])],1)],1)],1)])},a=[],i=r("1da1"),l=(r("96cf"),r("d3b7"),r("ac1f"),r("1276"),r("159b"),r("a15b"),r("a434"),r("40a7"));function o(e){return new Promise((function(t,r){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return r(e)}}))}var s={data:function(){return{labelCol:{sm:{span:12},md:{span:8,offset:0},lg:{span:5,offset:0}},wrapperCol:{sm:{span:24},md:{span:16,offset:0},lg:{span:19,offset:0}},wrapperCol1:{sm:{span:24,offset:0},md:{span:16,offset:8},lg:{span:19,offset:5}},locale:l["a"],imageUrl:"",loading:"",defaultTags:[],tags:[],tagList:["PHP","Vue","Html","Css","MySQL","MongoDB","Redis","Nginx","Apache","小程序","H5","APP"],url:this.config.interfaceUrl+"/project/uploadProjectImg",width:"60%",id:this.$route.query.id,previewVisible:!1,previewImage:"",fileList:[],form:{name:"",detail:"",introduce:"",image:"",url:"",git_url:"",tag:"",skill:"",category:""},rules:{name:[{required:!0,message:"请填写资源名称",trigger:"change"}],detail:[{required:!0,message:"请填写描述",trigger:"change"}],introduce:[{required:!0,message:"请填写详细介绍及说明",trigger:"change"}],skill:[{required:!0,message:"请填写手机号",trigger:"change"}],category:[{required:!0,message:"请选择分类",trigger:"change"}]}}},mounted:function(){var e=this;this.getProjectOne(this.$route.query.id),document.documentElement.clientWidth<768?this.width="90%":this.width="60%",window.addEventListener("resize",(function(){var t=document.documentElement.clientWidth;e.width=t<768?"90%":"60%"}))},methods:{getProjectOne:function(e){var t=this;this.axios.get("project/".concat(e)).then((function(e){if(1==e.status){t.form=e.data;var r=e.data.tag.split(","),n=e.data.image.split(",");r.forEach((function(e){return t.tags.push(e)})),n.forEach((function(e,r){var n={uid:r,name:"image.png",response:{data:e},status:"done",url:t.config.mediaUrl+e};t.fileList.push(n)}))}else t.$message.error(e.info)}))},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;var r=[];e.fileList.forEach((function(e){return r.push(e.response.data)})),e.form.image=r.join(","),e.axios.put("project/".concat(e.id),{params:e.form}).then((function(t){1==t.status?(e.$message.success(t.info),e.$router.push("/project")):e.$message.error(t.info)}))}))},handleSelectTag:function(e){e.length>6?(this.$message.warning("最多只能选择6个标签"),this.tags.splice(this.tags.length-1,1)):e.length<1&&this.$message.warning("至少选择1个标签"),this.form.tag=this.tags.join(",")},handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.url||e.preview){r.next=4;break}return r.next=3,o(e.originFileObj);case 3:e.preview=r.sent;case 4:t.previewImage=e.url||e.preview,t.previewVisible=!0;case 6:case"end":return r.stop()}}),r)})))()},handleChange:function(e){var t=e.fileList;this.fileList=t},resetForm:function(){this.$refs.ruleForm.resetFields(),this.$router.go(-1)}}},c=s,u=(r("e97c"),r("0c7c")),f=Object(u["a"])(c,n,a,!1,null,"2aae1ae8",null);t["default"]=f.exports},d784:function(e,t,r){"use strict";r("ac1f");var n=r("6eeb"),a=r("9263"),i=r("d039"),l=r("b622"),o=r("9112"),s=l("species"),c=RegExp.prototype;e.exports=function(e,t,r,u){var f=l(e),d=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=d&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[s]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!d||!p||r){var g=/./[f],m=t(f,""[e],(function(e,t,r,n,i){var l=t.exec;return l===a||l===c.exec?d&&!i?{done:!0,value:g.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}));n(String.prototype,e,m[0]),n(c,f,m[1])}u&&o(c[f],"sham",!0)}},e97c:function(e,t,r){"use strict";r("b4a3")},fce3:function(e,t,r){var n=r("d039");e.exports=n((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-61428a0f.ba955e2e.js.map